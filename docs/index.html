<!DOCTYPE html>
<head>
	<meta charset="UTF-8">
	<title>Formic Functions</title>
	<link rel='stylesheet' type='text/css' href='ant-qoth.css'>
	<script src='https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js'></script>
	<script src='ant-qoth.js'></script>
</head>
<body>
	<h1>Formic Functions - Ant Queen of the Hill Contest</h1>
	<div id='top_hidden_area'>
		<div class='aloof'>
			<button id='run_single_game' disabled='true'><h2>Run single game</h2></button>
			<button id='run_ongoing_tournament' disabled='true'><h2>Run ongoing tournament</h2></button>
		</div>

		<div>
			<div class='side_padded'><button id='no_display'>No display</button></div>
			<div class='side_padded'>Delay <input id='delay' class='width_5' type='number' min='0' max='999' value='150'/>ms</div>
			<div class='side_padded'>
				<button id='play'>Play</button>
				<button id='pause'>Pause</button>
				<button id='step'>Step (S)</button>
				<button id='step_ant'>Step ant (A)</button>
			</div>
			<div class='side_padded'><input id='squares_per_side' class='width_4' type='number' value='50' min='5' max='100'/> squares per side in zoom</div>
			<div class='side_padded'><button id='fit_canvas'>Fit canvas to width</button></div>
		</div>

		<canvas id='display_canvas'></canvas>
	</div>

	<button id='restore_display'><h2>Restore display</h2></button>

	<div>
		<div class='side_padded'><button id='abandon_game'>Abandon current game</button></div>
		<div id='completed_moves_area' class='side_padded'>Number of moves not yet available</div>
		<div class='side_padded'><button id='reset_leaderboard'>Reset tournament leaderboard</button></div>
	</div>
	
	<table id='current_game_table'>
		<caption>Current Game</caption>
		<thead>
			<tr>
				<th rowspan='2' colspan='2'>Player
				<th rowspan='2'>Food
				<th colspan='4'>Workers
			<tr>
				<th>Type 1
				<th>Type 2
				<th>Type 3
				<th>Type 4
		</thead>
		<tbody id='current_game_body'>
		</tbody>
	</table>

	<div id='game_counter'>0 games played.</div>

	<div id='loaded_at'><i>Players not yet loaded from contest post.</i></div>

	<table>
		<caption>Tournament Leaderboard</caption>
		<thead>
			<tr>
				<th>Position
				<th colspan='2'>Player
				<th>Score
				<th>Confidence of not dropping
				<th>Included
		</thead>
		<tbody id='leaderboard_body'>
		</tbody>
	</table>

	<table id='disqualified_table'>
		<caption>Disqualified Players</caption>
		<thead>
			<tr>
				<th>Restore
				<th colspan='2'>Player
				<th>Reason
				<th>Input
				<th>Response
		</thead>
		<tbody id='disqualified_body'>
		</tbody>
	</table>

	<div>
		Max <input id='max_players' class='width_4' type='number' min='1' max='99' value='16'/> players
	</div>
	<div>
		Confidence threshold for determining whether players are in joint n<sup>th</sup> place: <input id='confidence_threshold' class='width_4' type='number' value='95' min='1' max='99'/>%
	</div>
	<div>
		Override max function return time (useful for testing on a different machine): <input id='permitted_time_override' class='width_5' type='number' value='5' min='1' max='999'/>ms
	</div>
	<div>
		Logging to console for debugging the new challenger: <input id='debug' type='checkbox'/>
	</div>
	<div>
		Seeded random numbers (same outcome every game for debugging): <input id='seeded_random' type='checkbox'/> Seed: <input id='seed' type='number' value='1' min='1' max='4294967295'/>
	</div>
	<br>
	Available color palettes to help with variation in color vision:
	<div class='dropdown'>
		<img id='selected_palette' class='palette_row_image'/>
		<div id='palette_dropdown_options' class='dropdown_content'></div>
	</div>	
	<div>
		<h3 id='new_challenger_heading'>New challenger</h3>
		<textarea id='new_challenger_text' maxlength='30000' placeholder='(Optional - enter function body to be tested here)' rows='30' spellcheck='false'></textarea>
	</div>

</body>
